language: swift
osx_image: xcode10

before_install:
  - gem install cocoapods # Since Travis is not always on latest version
  - export MDX_CI=YES
  #- rm Demo/Podfile.lock
  - pod install --project-directory=Demo

script:
  - set -o pipefail
    && xcodebuild test
      -enableCodeCoverage YES
      -workspace Demo/GitHubKit.xcworkspace
      -scheme GitHubKit-Demo
      -destination 'platform=iOS Simulator,OS=12.0,name=iPhone 8'
      -configuration=Debug
    | xcpretty --test

  #- pod lib lint # need to put JackKit.podspec upto Cocoapods first.ug
